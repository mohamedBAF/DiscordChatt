(this.webpackJsonpdiscord=this.webpackJsonpdiscord||[]).push([[0],{53:function(e,c,n){},81:function(e,c,n){},82:function(e,c,n){},83:function(e,c,n){},87:function(e,c,n){},91:function(e,c,n){},92:function(e,c,n){},93:function(e,c,n){},94:function(e,c,n){},95:function(e,c,n){"use strict";n.r(c);var t=n(3),a=n(2),s=n.n(a),i=n(25),r=n.n(i),l=(n(81),n.p,n(82),n(24)),o=(n(83),n(49)),j=n.n(o),d=n(58),b=n.n(d),h=n(14),u=n(29),m=Object(u.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,c){e.channelId=c.payload.channelId,e.channelName=c.payload.channelName}}}),O=m.actions.setChannelInfo,x=function(e){return e.app.channelId},f=function(e){return e.app.channelName},p=m.reducer;n(87);var v=function(e){var c=e.id,n=e.channelName,a=Object(h.b)();return Object(t.jsx)("div",{className:"SidebarChannel",onClick:function(){return a(O({channelId:c,channelName:n}))},children:Object(t.jsxs)("h4",{children:[Object(t.jsx)("span",{className:"sidebarChannel_hash",children:"#"}),n]})})},g=n(59),N=n.n(g),_=n(60),S=n.n(_),I=n(61),C=n.n(I),w=n(62),y=n.n(w),k=n(63),z=n.n(k),E=n(64),B=n.n(E),A=n(111),D=Object(u.b)({name:"user",initialState:{user:null},reducers:{login:function(e,c){e.user=c.payload},logout:function(e){e.user=null}}}),V=D.actions,M=V.login,T=V.logout,W=function(e){return e.user.user},F=D.reducer,H=n(27),J=H.a.initializeApp({apiKey:"AIzaSyBxHv_fEruzpWVjaJzvF4v1ZmBUxMkrxeI",authDomain:"discord-efe1b.firebaseapp.com",projectId:"discord-efe1b",storageBucket:"discord-efe1b.appspot.com",messagingSenderId:"212926813100",appId:"1:212926813100:web:744e3d37a2e55893906009",measurementId:"G-7H39T45D5Q"}).firestore(),R=H.a.auth(),U=new H.a.auth.GoogleAuthProvider,G=J;var P=function(){var e=Object(h.c)(W),c=Object(a.useState)([]),n=Object(l.a)(c,2),s=n[0],i=n[1];return Object(a.useEffect)((function(){G.collection("channels").onSnapshot((function(e){return i(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]),Object(t.jsxs)("div",{className:"sidebar",children:[Object(t.jsxs)("div",{className:"sidebar__top",children:[Object(t.jsx)("h3",{children:"clever programmers"}),Object(t.jsx)(j.a,{})]}),Object(t.jsxs)("div",{className:"sidebar__channels",children:[Object(t.jsxs)("div",{className:"sidebar_channelHeader",children:[Object(t.jsxs)("div",{className:"sidebar_header",children:[Object(t.jsx)(j.a,{}),Object(t.jsx)("h4",{children:"Text Channel"})]}),Object(t.jsx)(b.a,{onClick:function(){var e=prompt("Enter a new channel name");e&&G.collection("channels").add({channelName:e})},className:"sidebar_addChannel"})]}),Object(t.jsx)("div",{className:"sidebarChannelliste",children:s.map((function(e){var c=e.id,n=e.channel;return Object(t.jsx)(v,{id:c,channelName:n.channelName},c)}))})]}),Object(t.jsxs)("div",{className:"sidebarVoice",children:[Object(t.jsx)(N.a,{className:"sidebar__voiceicon",fontSize:"large"}),Object(t.jsxs)("div",{className:"sidebarvoiceInfo",children:[Object(t.jsx)("h3",{children:"Voice Connected"}),Object(t.jsx)("p",{children:"Stream"})]}),Object(t.jsxs)("div",{className:"sidebar__voiceIcons",children:[Object(t.jsx)(S.a,{}),Object(t.jsx)(C.a,{})]})]}),Object(t.jsxs)("div",{className:"sidebar_profile",children:[Object(t.jsx)(A.a,{onClick:function(){R.signOut()},src:e.photo}),Object(t.jsxs)("div",{className:"sidebar_profileInfo",children:[Object(t.jsx)("h3",{children:e.displayName}),Object(t.jsxs)("p",{children:["#",e.uid.substring(0,5)]})]}),Object(t.jsxs)("div",{className:"sidebar_profileIcon",children:[Object(t.jsx)(y.a,{}),Object(t.jsx)(z.a,{}),Object(t.jsx)(B.a,{})]})]})]})},K=(n(53),n(66)),L=n.n(K),Q=n(67),Z=n.n(Q),$=n(65),q=n.n($),X=n(69),Y=n.n(X),ee=n(70),ce=n.n(ee),ne=n(68),te=n.n(ne);n(91);var ae=function(e){var c=e.channelName;return console.log(c),Object(t.jsxs)("div",{className:"chatheader",children:[Object(t.jsx)("div",{className:"chatheader__left",children:Object(t.jsxs)("h3",{children:[Object(t.jsx)("span",{className:"chatheader__hash",children:"#"}),c]})}),Object(t.jsxs)("div",{className:"chatheader__right",children:[Object(t.jsx)(q.a,{}),Object(t.jsx)(L.a,{}),Object(t.jsx)(Z.a,{}),Object(t.jsxs)("div",{className:"chatheader__search",children:[Object(t.jsx)("input",{type:"text",placeholder:"Search"}),Object(t.jsx)(te.a,{})]}),Object(t.jsx)(Y.a,{}),Object(t.jsx)(ce.a,{})]})]})},se=n(47),ie=n.n(se),re=n(109);n(92);var le=function(e){var c=e.timestamp,n=e.user,a=e.message;return Object(t.jsxs)("div",{className:"message",children:[Object(t.jsx)(A.a,{src:n.photo}),Object(t.jsxs)("div",{className:"message__info",children:[Object(t.jsxs)("h4",{children:[n.displayName,Object(t.jsx)("span",{className:"message__timestamp",children:new Date(null===c||void 0===c?void 0:c.toDate()).toUTCString()})]}),Object(t.jsx)("p",{children:a})]})]})},oe=(n(93),n(43)),je=n.n(oe),de=n(44),be=n.n(de),he=n(46),ue=n.n(he),me=n(45),Oe=n.n(me);var xe=function(){var e=Object(h.c)(W),c=Object(h.c)(x),n=Object(h.c)(f),s=Object(a.useState)(""),i=Object(l.a)(s,2),r=i[0],o=i[1],j=Object(a.useState)([]),d=Object(l.a)(j,2);return d[0],d[1],Object(a.useRef)(),Object(t.jsxs)("div",{className:"chat__input",children:[Object(t.jsx)(je.a,{}),Object(t.jsxs)("form",{children:[Object(t.jsx)("input",{placeholder:"Message #".concat(n),onChange:function(e){return o(e.target.value)},value:r,disabled:!c}),Object(t.jsx)("button",{onClick:function(n){n.preventDefault(),G.collection("channels").doc(c).collection("messages").add({message:r,user:e,timestamp:H.a.firestore.FieldValue.serverTimestamp()}),o("")},type:"submit",className:"chat__inputButton",children:"Send Message"})]}),Object(t.jsxs)("div",{className:"chat__inputIcons",children:[Object(t.jsx)(be.a,{fontSize:"large"}),Object(t.jsx)(Oe.a,{fontSize:"large"}),Object(t.jsx)(ue.a,{fontSize:"large"})]})]})};var fe=function(){var e=Object(h.c)(W),c=Object(h.c)(x),n=Object(h.c)(f),s=Object(a.useState)(""),i=Object(l.a)(s,2),r=(i[0],i[1],Object(a.useState)([])),o=Object(l.a)(r,2),j=o[0],d=o[1],b=Object(a.useState)(function(){var e="light-theme";return localStorage.getItem("theme")&&(e=localStorage.getItem("theme")),e}()),u=Object(l.a)(b,2),m=u[0],O=u[1],p=Object(a.useRef)();return Object(a.useEffect)((function(){document.documentElement.className=m,localStorage.setItem("theme",m)}),[m]),Object(a.useEffect)((function(){c&&G.collection("channels").doc(c).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){return d(e.docs.map((function(e){return e.data()})))}))}),[c]),Object(a.useEffect)((function(){p.current.scrollIntoView({behavior:"smooth"})}),[j]),console.log(e),Object(t.jsxs)("div",{className:"all",children:[Object(t.jsxs)("div",{className:"chat",children:[Object(t.jsx)(ae,{channelName:n}),Object(t.jsx)("div",{className:"icona",children:Object(t.jsx)(re.a,{style:{backgroundColor:"#bbbbbb"},children:Object(t.jsx)(ie.a,{fontSize:"large",onClick:function(){O("light-theme"===m?"dark-theme":"light-theme")}})})}),Object(t.jsx)("div",{className:"chat__message",children:j.map((function(e){return Object(t.jsx)(le,{message:e.message,timestamp:e.timestamp,user:e.user})})).reverse()}),Object(t.jsx)("div",{ref:p})]}),Object(t.jsx)(xe,{})]})},pe=n(110);n(94);var ve=function(){return Object(t.jsxs)("div",{className:"login",children:[Object(t.jsx)("div",{className:"login__logo",children:Object(t.jsx)("img",{src:"https://www.01net.com/i/0/0/0ec0a8f/2d1e37aac7e9e7f1dbfd007f8.jpg"})}),Object(t.jsx)(pe.a,{onClick:function(e){R.signInWithPopup(U).catch((function(e){return alert(e.message)}))},children:"sign In"})]})};var ge=function(){var e=Object(h.b)(),c=Object(h.c)(W);return Object(a.useEffect)((function(){R.onAuthStateChanged((function(c){console.log(c),e(c?M({uid:c.uid,photo:c.photoURL,email:c.email,displayName:c.displayName}):T())}))}),[e]),Object(t.jsx)("div",{className:"App",children:c?Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(P,{}),Object(t.jsx)(fe,{})]}):Object(t.jsx)(ve,{})})},Ne=Object(u.a)({reducer:{user:F,app:p}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(t.jsx)(s.a.StrictMode,{children:Object(t.jsx)(h.a,{store:Ne,children:Object(t.jsx)(ge,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[95,1,2]]]);
//# sourceMappingURL=main.6f1ffaa5.chunk.js.map